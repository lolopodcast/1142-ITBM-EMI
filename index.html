<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ITBM-EMI | Industry Trends & Business Models</title>
    
    <!-- Fonts: Merriweather for headings (Authority), Inter for UI (Readability) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Merriweather:wght@300;400;700&display=swap" rel="stylesheet">
    <!-- Noto Sans TC for Traditional Chinese -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700&display=swap" rel="stylesheet">

    <style>
        /* --- BCG Professional Style & Dark Mode Variables --- */
        :root {
            --bg-color: #1e1e1e; /* Charcoal Dark */
            --card-bg: #2d2d2d;
            --text-main: #e0e0e0;
            --text-muted: #a0a0a0;
            --accent-green: #00d18b; /* BCG-like Emerald */
            --accent-blue: #005c97; /* Deep Professional Blue */
            --border-color: #444444;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            --font-serif: 'Merriweather', serif;
            --font-sans: 'Inter', sans-serif;
            --font-tc: 'Noto Sans TC', sans-serif;
        }

        /* Light Mode Override (Toggleable) */
        body.light-mode {
            --bg-color: #f4f4f4;
            --card-bg: #ffffff;
            --text-main: #333333;
            --text-muted: #666666;
            --border-color: #dddddd;
            --shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            --accent-green: #00875a; /* Darker green for light mode contrast */
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-sans);
            background-color: var(--bg-color);
            color: var(--text-main);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
            overflow-x: hidden;
        }
        
        /* Chinese Font Override */
        body.lang-zh, body.lang-zh h1, body.lang-zh h2, body.lang-zh h3, body.lang-zh h4, body.lang-zh .brand-area {
            font-family: var(--font-tc), sans-serif !important;
        }

        /* --- Header & Navigation --- */
        header {
            position: fixed;
            top: 0;
            width: 100%;
            height: 70px;
            background-color: var(--card-bg);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            z-index: 1000;
            box-shadow: var(--shadow);
        }

        .brand-area {
            font-family: var(--font-serif);
            font-weight: 700;
            font-size: 1.1rem; /* Slightly smaller to fit long title */
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            user-select: none;
            max-width: 70%;
        }

        .brand-area span.brand-acronym {
            color: var(--accent-green);
            white-space: nowrap;
        }

        .brand-area span#brand-text {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .nav-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .icon-btn {
            background: none;
            border: 1px solid var(--border-color);
            color: var(--text-main);
            padding: 6px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s;
            font-family: var(--font-sans);
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 40px;
        }

        body.lang-zh .icon-btn {
            font-family: var(--font-tc);
        }

        .icon-btn:hover {
            border-color: var(--accent-green);
            color: var(--accent-green);
        }
        
        .lang-btn {
            font-weight: bold;
            letter-spacing: 0.5px;
            min-width: 50px;
        }

        .hamburger {
            font-size: 1.5rem;
            cursor: pointer;
            padding: 5px 10px;
            color: var(--text-main);
            margin-left: 5px;
        }

        /* --- Dropdown Menu --- */
        #mobile-menu {
            position: fixed;
            top: 70px;
            left: 0;
            width: 100%;
            background-color: var(--card-bg);
            border-bottom: 3px solid var(--accent-green);
            transform: translateY(-150%);
            transition: transform 0.3s ease-in-out;
            z-index: 999;
            box-shadow: var(--shadow);
            
            /* SCROLL FIX */
            max-height: calc(100vh - 70px);
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        #mobile-menu.active {
            transform: translateY(0);
        }

        .menu-item {
            padding: 18px 25px;
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
            font-family: var(--font-serif);
            font-size: 1.05rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        body.lang-zh .menu-item {
            font-family: var(--font-tc);
        }

        .menu-item:hover {
            background-color: rgba(0, 209, 139, 0.05);
            color: var(--accent-green);
        }

        .menu-item.dashboard-link {
            border-bottom: none;
            font-weight: bold;
            color: var(--accent-green);
            background-color: rgba(0, 0, 0, 0.2);
        }

        /* Overlay to close menu */
        #menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0,0,0,0.6);
            backdrop-filter: blur(2px);
            z-index: 900;
            display: none;
        }

        #menu-overlay.active {
            display: block;
        }

        /* --- Main Content --- */
        main {
            padding: 110px 20px 60px; /* Top padding for fixed header */
            max-width: 1100px;
            margin: 0 auto;
            min-height: 85vh;
        }

        .section-header {
            margin-bottom: 40px;
            animation: fadeIn 0.5s ease-out;
        }

        .section-title {
            font-family: var(--font-serif);
            font-size: 2.2rem;
            margin-bottom: 10px;
            border-left: 6px solid var(--accent-green);
            padding-left: 20px;
            line-height: 1.2;
        }

        .section-subtitle {
            color: var(--text-muted);
            font-size: 1.1rem;
            padding-left: 26px;
        }

        /* --- Tabs System (Odd/Even Weeks) --- */
        .tabs {
            display: flex;
            gap: 2px;
            margin-bottom: 0;
            flex-wrap: wrap;
        }

        .tab-btn {
            background-color: transparent;
            border: 1px solid var(--border-color);
            border-bottom: none;
            color: var(--text-muted);
            padding: 15px 25px;
            cursor: pointer;
            font-family: var(--font-sans);
            font-weight: 600;
            font-size: 1rem;
            border-radius: 4px 4px 0 0;
            flex: 1;
            min-width: 200px;
            text-align: center;
            transition: all 0.2s;
        }
        
        body.lang-zh .tab-btn {
            font-family: var(--font-tc);
        }

        .tab-btn:hover {
            background-color: rgba(255,255,255,0.05);
            color: var(--text-main);
        }

        .tab-btn.active {
            background-color: var(--card-bg);
            color: var(--accent-green);
            border-top: 4px solid var(--accent-green);
            border-bottom: 1px solid var(--card-bg); /* Blend with content */
            margin-bottom: -1px; /* Overlap border */
            z-index: 5;
        }

        .tab-content {
            background-color: var(--card-bg);
            padding: 40px;
            border-radius: 0 0 4px 4px;
            border: 1px solid var(--border-color);
            display: none;
            box-shadow: var(--shadow);
            animation: fadeIn 0.3s;
            position: relative;
            z-index: 1;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- Content Cards & Typography --- */
        .content-block {
            margin-bottom: 35px;
            padding-bottom: 25px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .content-block:last-child {
            border-bottom: none;
        }

        h3 {
            font-family: var(--font-serif);
            font-size: 1.4rem;
            margin-bottom: 20px;
            color: var(--text-main);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        h4 {
            color: var(--accent-green);
            font-size: 1.1rem;
            margin: 20px 0 10px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        p, li {
            font-size: 1rem;
            color: var(--text-main);
            margin-bottom: 12px;
        }

        ul {
            padding-left: 20px;
            margin-bottom: 20px;
        }

        li::marker {
            color: var(--accent-green);
        }

        a {
            color: var(--accent-green);
            text-decoration: none;
            border-bottom: 1px dotted var(--accent-green);
            transition: all 0.2s;
        }

        a:hover {
            background-color: rgba(0, 209, 139, 0.1);
            border-bottom-style: solid;
        }

        /* --- Prompt Box --- */
        .prompt-box {
            background-color: rgba(0,0,0,0.3);
            border-left: 4px solid var(--accent-green);
            padding: 15px;
            font-family: monospace;
            font-size: 0.95rem;
            color: #dcdcdc;
            margin: 15px 0;
            border-radius: 0 4px 4px 0;
            line-height: 1.5;
        }

        /* --- Checkboxes & Forms --- */
        .task-list {
            margin-top: 20px;
            background-color: rgba(0,0,0,0.15);
            padding: 20px;
            border-radius: 8px;
        }

        .progress-check {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s;
            border: 1px solid transparent;
        }

        .progress-check:hover {
            background-color: rgba(255,255,255,0.05);
            border-color: var(--border-color);
        }

        input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-top: 3px;
            accent-color: var(--accent-green);
            cursor: pointer;
            flex-shrink: 0;
        }

        .progress-check span {
            font-size: 0.95rem;
        }

        /* --- Dashboard Styling --- */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
        }

        .dash-card {
            background: var(--card-bg);
            padding: 30px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow);
        }

        .stat-number {
            font-size: 3.5rem;
            font-weight: 700;
            color: var(--accent-green);
            line-height: 1;
            font-family: var(--font-serif);
        }

        .stat-label {
            color: var(--text-muted);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-muted);
            font-size: 0.9rem;
            font-weight: 600;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            background-color: var(--bg-color);
            border: 1px solid var(--border-color);
            color: var(--text-main);
            border-radius: 4px;
            font-family: var(--font-sans);
            font-size: 1rem;
            transition: border 0.2s;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--accent-green);
        }

        .btn-primary {
            background-color: var(--accent-green);
            color: #121212;
            border: none;
            padding: 14px 25px;
            font-weight: 700;
            font-size: 1rem;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
            transition: all 0.2s;
            margin-top: 10px;
            font-family: var(--font-sans);
        }

        body.lang-zh .btn-primary {
            font-family: var(--font-tc);
        }

        .btn-primary:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        /* --- Footer --- */
        footer {
            background-color: var(--card-bg);
            border-top: 1px solid var(--border-color);
            padding: 40px 20px;
            font-size: 0.9rem;
            color: var(--text-muted);
        }

        .footer-content {
            max-width: 1100px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .instructor-info {
            text-align: right;
        }
        
        /* Footer Links Style */
        footer a {
            color: var(--text-muted);
            border-bottom: 1px dotted var(--text-muted);
            text-decoration: none;
        }
        
        footer a:hover {
            color: var(--accent-green);
            border-bottom: 1px solid var(--accent-green);
            background-color: transparent;
        }

        /* --- Responsive --- */
        @media (max-width: 768px) {
            .section-title { font-size: 1.8rem; }
            .footer-content { flex-direction: column; text-align: center; }
            .instructor-info { text-align: center; margin-top: 10px; }
            .tabs { flex-direction: column; }
            .tab-btn { border-radius: 4px; width: 100%; margin-bottom: 5px; }
            .tab-btn.active { border-top: 1px solid var(--border-color); border-left: 5px solid var(--accent-green); }
            .tab-content { padding: 25px; }
            .brand-area { font-size: 1rem; }
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header>
        <div class="brand-area" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
            <span class="brand-acronym">ITBM</span>&nbsp;| <span id="brand-text">Industry Trends and Business Models</span>
        </div>
        <div class="nav-controls">
            <!-- Language Toggle -->
            <button class="icon-btn lang-btn" onclick="toggleLanguage()" title="Switch Language">ENG</button>
            <!-- Theme Toggle -->
            <button class="icon-btn" onclick="toggleTheme()" title="Switch Light/Dark Mode">â˜€/â˜¾</button>
            <div class="hamburger" onclick="toggleMenu()">â˜°</div>
        </div>
    </header>

    <!-- Overlay -->
    <div id="menu-overlay" onclick="closeMenu()"></div>

    <!-- Dropdown Menu -->
    <nav id="mobile-menu">
        <div class="menu-item" onclick="loadContent('w1-2')">
            <span data-i18n="menu_w12">Phase 1: Onboarding (W1-2)</span>
            <small style="color:var(--text-muted)" data-i18n="menu_w12_sub">Start Here</small>
        </div>
        <div class="menu-item" onclick="loadContent('w3-4')">
            <span data-i18n="menu_w34">Module 1: Semiconductor (W3-4)</span>
            <small style="color:var(--text-muted)" data-i18n="menu_w34_sub">Macro Analysis</small>
        </div>
        <div class="menu-item" onclick="loadContent('w5-6')">
            <span data-i18n="menu_w56">Module 2: Smart Home (W5-6)</span>
            <small style="color:var(--text-muted)" data-i18n="menu_w56_sub">User Needs</small>
        </div>
        <!-- Placeholders for future modules -->
        <div class="menu-item" style="opacity: 0.4; cursor: not-allowed;">
            <span data-i18n="menu_w78">Module 3: Drone (W7-8)</span>
            <small data-i18n="coming_soon">Coming Soon</small>
        </div>
        <div class="menu-item" style="opacity: 0.4; cursor: not-allowed;">
            <span data-i18n="menu_w910">Module 4: Agentic AI (W9-10)</span>
            <small data-i18n="coming_soon">Coming Soon</small>
        </div>
        <div class="menu-item" style="opacity: 0.4; cursor: not-allowed;">
            <span data-i18n="menu_w1112">Module 5: Physical AI (W11-12)</span>
            <small data-i18n="coming_soon">Coming Soon</small>
        </div>
         <div class="menu-item" style="opacity: 0.4; cursor: not-allowed;">
            <span data-i18n="menu_w1314">Module 6: Auto-Driving (W13-14)</span>
            <small data-i18n="coming_soon">Coming Soon</small>
        </div>
         <div class="menu-item" style="opacity: 0.4; cursor: not-allowed;">
            <span data-i18n="menu_w1516">Final Phase: Term Project (W15-16)</span>
            <small data-i18n="coming_soon">Coming Soon</small>
        </div>

        <div class="menu-item dashboard-link" onclick="loadContent('dashboard')">
            <span data-i18n="menu_dash">ğŸ“Š Learning Log & Export</span>
            <small data-i18n="menu_dash_sub">Submit Progress</small>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main id="main-content">
        <!-- Default Content -->
        <div style="text-align: center; padding-top: 80px; animation: fadeIn 0.8s;">
            <h1 style="font-family: var(--font-serif); font-size: 3rem; margin-bottom: 20px;">Welcome to ITBM-EMI</h1>
            <p style="color: var(--text-muted); font-size: 1.2rem; margin-bottom: 40px;" data-i18n="welcome_sub">
                Industry Trends and Business Models | Spring 2026
            </p>
            <div id="start-btn" style="display: inline-block; padding: 20px 40px; border: 1px solid var(--accent-green); border-radius: 50px; color: var(--accent-green); font-weight: bold; cursor: pointer;" onclick="toggleMenu()" data-i18n="start_learning">
                Start Learning â”
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="left">
                <p><strong data-i18n="footer_title">Industry Trends and Business Models</strong></p>
                <p style="font-size: 0.8rem; opacity: 0.7;"><span data-i18n="last_updated">Last Updated</span>: <span id="date-display"></span> | Version 3.3.0</p>
                <p style="font-size: 0.8rem; opacity: 0.7;">&copy; 2026 <a href="https://rpage.ncnu.edu.tw/" target="_blank" data-i18n="university_name">National Chi Nan University</a>.</p>
            </div>
            <div class="instructor-info">
                <p style="color: var(--text-main); font-weight: bold;"><span data-i18n="instructor">Instructor</span>: <a href="https://www.ibs.ncnu.edu.tw/index.php/faculty/tenured-professor/299-smlo" target="_blank">Prof. Shihmin Lo</a></p>
                <p><a href="https://www.ibs.ncnu.edu.tw/" target="_blank" data-i18n="dept_name">International Business Studies</a></p>
                <p style="font-size: 0.8rem; color: var(--accent-green);" data-i18n="course_slogan">Become a competent Product Manager in MNCS</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- Translations (Static UI) ---
        const uiTranslations = {
            en: {
                brand_text: "Industry Trends and Business Models",
                menu_w12: "Phase 1: Onboarding (W1-2)",
                menu_w12_sub: "Start Here",
                menu_w34: "Module 1: Semiconductor (W3-4)",
                menu_w34_sub: "Macro Analysis",
                menu_w56: "Module 2: Smart Home (W5-6)",
                menu_w56_sub: "User Needs",
                menu_w78: "Module 3: Drone (W7-8)",
                menu_w910: "Module 4: Agentic AI (W9-10)",
                menu_w1112: "Module 5: Physical AI (W11-12)",
                menu_w1314: "Module 6: Auto-Driving (W13-14)",
                menu_w1516: "Final Phase: Term Project (W15-16)",
                coming_soon: "Coming Soon",
                menu_dash: "ğŸ“Š Learning Log & Export",
                menu_dash_sub: "Submit Progress",
                welcome_sub: "Industry Trends and Business Models | Spring 2026",
                start_learning: "Start Learning â”",
                footer_title: "Industry Trends and Business Models",
                last_updated: "Last Updated",
                university_name: "National Chi Nan University",
                instructor: "Instructor",
                dept_name: "International Business Studies",
                course_slogan: "Become a competent Product Manager in MNCS"
            },
            zh: {
                brand_text: "æ–°èˆˆç”¢æ¥­è¶¨å‹¢èˆ‡å•†æ¥­æ¨¡å¼",
                menu_w12: "ç¬¬ä¸€éšæ®µï¼šå•Ÿå‹•èˆ‡æ ¡æº– (W1-2)",
                menu_w12_sub: "å¾é€™è£¡é–‹å§‹",
                menu_w34: "æ¨¡çµ„ä¸€ï¼šåŠå°é«”è£½é€  (W3-4)",
                menu_w34_sub: "ç¸½é«”ç’°å¢ƒåˆ†æ",
                menu_w56: "æ¨¡çµ„äºŒï¼šæ™ºæ…§å®¶åº­ (W5-6)",
                menu_w56_sub: "ä½¿ç”¨è€…éœ€æ±‚",
                menu_w78: "æ¨¡çµ„ä¸‰ï¼šç„¡äººæ©Ÿ (W7-8)",
                menu_w910: "æ¨¡çµ„å››ï¼šä»£ç†æµç¨‹è‡ªå‹•åŒ– (W9-10)",
                menu_w1112: "æ¨¡çµ„äº”ï¼šå¯¦é«” AI (W11-12)",
                menu_w1314: "æ¨¡çµ„å…­ï¼šè‡ªé§•è»Š (W13-14)",
                menu_w1516: "æœ€çµ‚éšæ®µï¼šæœŸæœ«å°ˆæ¡ˆ (W15-16)",
                coming_soon: "æ•¬è«‹æœŸå¾…",
                menu_dash: "ğŸ“Š å­¸ç¿’æ­·ç¨‹èˆ‡åŒ¯å‡º",
                menu_dash_sub: "æäº¤é€²åº¦",
                welcome_sub: "æ–°èˆˆç”¢æ¥­è¶¨å‹¢èˆ‡å•†æ¥­æ¨¡å¼ | 2026 æ˜¥å­£ç­",
                start_learning: "é–‹å§‹å­¸ç¿’ â”",
                footer_title: "æ–°èˆˆç”¢æ¥­è¶¨å‹¢èˆ‡å•†æ¥­æ¨¡å¼",
                last_updated: "æœ€å¾Œæ›´æ–°",
                university_name: "åœ‹ç«‹æš¨å—åœ‹éš›å¤§å­¸",
                instructor: "æˆèª²æ•™å¸«",
                dept_name: "åœ‹éš›ä¼æ¥­å­¸ç³»æ‰€",
                course_slogan: "æˆç‚ºä¸€ä½åœ¨åœ‹éš›ä¼æ¥­è£¡ç¨±è·çš„ç”¢å“ç¶“ç†"
            }
        };

        // --- Course Data (Content Management - Bilingual) ---
        const courseData = {
            'w1-2': {
                en: `
                <div class="section-header">
                    <div class="section-title">Phase 1: Onboarding & Calibration</div>
                    <div class="section-subtitle">Weeks 1-2 | Orientation, PM Competency, and Tools</div>
                </div>
                
                <div class="tabs">
                    <button class="tab-btn active" onclick="openTab(event, 'w1')">Week 1: Self-Discovery (Worksheet)</button>
                    <button class="tab-btn" onclick="openTab(event, 'w2')">Week 2: Career Positioning (Tools)</button>
                </div>

                <div id="w1" class="tab-content active">
                    <div class="content-block">
                        <h3>ğŸ¯ Week 1 Objectives</h3>
                        <p>Welcome to ITBM-EMI. This week, we align our goals and conduct a self-audit of your PM competencies (KSA).</p>
                        <ul>
                            <li>Understand the "Dual-Track" learning: PM Competency + EMI/GenAI.</li>
                            <li>Commit to the AI Integrity Pledge.</li>
                            <li>Complete <strong>Worksheet #1</strong> to map your current skills.</li>
                        </ul>
                    </div>

                    <div class="content-block">
                        <h3>ğŸ¤– AI Co-pilot Activity</h3>
                        <p>Use ChatGPT/Gemini to critique your career path. Copy/Paste the prompt below:</p>
                        <div class="prompt-box">
                            "I am a university student majoring in [Your Major]. I want to become a Product Manager in [Target Industry]. List 3 critical hard skills and 3 soft skills I need to learn in this 'Industry Trends' course."
                        </div>
                    </div>

                    <div class="task-list">
                        <h4>âœ… Week 1 Checklist</h4>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w1-read-syllabus')"> 
                            <span>I have read the course syllabus and GenAI policy.</span>
                        </label>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w1-ws1-completed')"> 
                            <span>I have completed <strong>Worksheet #1: My PM Digital Resume</strong>.</span>
                        </label>
                    </div>
                </div>

                <div id="w2" class="tab-content">
                    <div class="content-block">
                        <h3>ğŸ—ºï¸ Week 2: Career Positioning Map</h3>
                        <p>We define your target using the "Zoom-in" approach:</p>
                        <p><em>Industry â” Enterprise â” Department â” Job Title â” Duties â” Competency</em></p>
                    </div>

                    <div class="content-block">
                        <h3>ğŸ“ Worksheet #2: Competency Radar</h3>
                        <ul>
                            <li><strong>Step 1:</strong> Find a real Job Description (JD) on LinkedIn or 104.</li>
                            <li><strong>Step 2:</strong> Map required skills to the 6-point radar (Business, Tech, Empathy, Data, PjM, Comm).</li>
                            <li><strong>Step 3:</strong> Identify your "Gap" and choose a course module to fix it.</li>
                        </ul>
                    </div>

                    <div class="task-list">
                        <h4>âœ… Week 2 Checklist</h4>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w2-ws2-uploaded')"> 
                            <span>I have uploaded Worksheet #2 to Moodle/JotForm.</span>
                        </label>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w2-group-joined')"> 
                            <span>I have joined a Study Group (G1-G6) based on my industry interest.</span>
                        </label>
                    </div>
                </div>`,
                zh: `
                <div class="section-header">
                    <div class="section-title">ç¬¬ä¸€éšæ®µï¼šå•Ÿå‹•èˆ‡æ ¡æº–</div>
                    <div class="section-subtitle">ç¬¬ 1-2 é€± | èª²ç¨‹å°èˆªã€PM è·èƒ½èˆ‡å·¥å…·å°å…¥</div>
                </div>
                
                <div class="tabs">
                    <button class="tab-btn active" onclick="openTab(event, 'w1')">ç¬¬ 1 é€±ï¼šè‡ªæˆ‘æ¢ç´¢ (å­¸ç¿’å–®)</button>
                    <button class="tab-btn" onclick="openTab(event, 'w2')">ç¬¬ 2 é€±ï¼šè·æ¶¯å®šä½ (å·¥å…·)</button>
                </div>

                <div id="w1" class="tab-content active">
                    <div class="content-block">
                        <h3>ğŸ¯ ç¬¬ä¸€é€±ç›®æ¨™</h3>
                        <p>æ­¡è¿ä¾†åˆ° ITBM-EMIã€‚æœ¬é€±æˆ‘å€‘å°‡å°é½Šèª²ç¨‹ç›®æ¨™ï¼Œä¸¦é‡å°æ‚¨çš„ PM è·èƒ½ (KSA) é€²è¡Œè‡ªæˆ‘ç›¤é»ã€‚</p>
                        <ul>
                            <li>ç†è§£ã€Œé›™è»Œå­¸ç¿’ã€æ¨¡å¼ï¼šPM è·èƒ½é¤Šæˆ + EMI/GenAI æ‡‰ç”¨ã€‚</li>
                            <li>ç°½ç½² AI èª ä¿¡å®£è¨€ (AI Integrity Pledge)ã€‚</li>
                            <li>å®Œæˆ <strong>å­¸ç¿’å–® #1</strong> ä»¥ç›¤é»æ‚¨ç›®å‰çš„æŠ€èƒ½ç¾ç‹€ã€‚</li>
                        </ul>
                    </div>

                    <div class="content-block">
                        <h3>ğŸ¤– AI è¼”åŠ©æ´»å‹•</h3>
                        <p>åˆ©ç”¨ ChatGPT/Gemini è©•ä¼°æ‚¨çš„è·æ¶¯è·¯å¾‘ã€‚è«‹è¤‡è£½ä»¥ä¸‹ Promptï¼š</p>
                        <div class="prompt-box">
                            "I am a university student majoring in [Your Major]. I want to become a Product Manager in [Target Industry]. List 3 critical hard skills and 3 soft skills I need to learn in this 'Industry Trends' course."
                        </div>
                    </div>

                    <div class="task-list">
                        <h4>âœ… ç¬¬ä¸€é€±æª¢æ ¸è¡¨</h4>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w1-read-syllabus')"> 
                            <span>æˆ‘å·²è©³é–±èª²ç¨‹å¤§ç¶±èˆ‡ GenAI ä½¿ç”¨è¦ç¯„ã€‚</span>
                        </label>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w1-ws1-completed')"> 
                            <span>æˆ‘å·²å®Œæˆ <strong>å­¸ç¿’å–® #1ï¼šæˆ‘çš„ PM æ•¸ä½å±¥æ­·</strong>ã€‚</span>
                        </label>
                    </div>
                </div>

                <div id="w2" class="tab-content">
                    <div class="content-block">
                        <h3>ğŸ—ºï¸ ç¬¬äºŒé€±ï¼šè·æ¶¯å®šä½å±¤ç´šåœ–</h3>
                        <p>ä½¿ç”¨ã€Œç”±å¤§åˆ°å° (Zoom-in)ã€çš„æ–¹æ³•å®šç¾©æ‚¨çš„ç›®æ¨™ï¼š</p>
                        <p><em>ç”¢æ¥­ (Industry) â” ä¼æ¥­ (Enterprise) â” éƒ¨é–€ (Department) â” è·ç¨± (Job Title) â” è·å‹™ (Duties) â” è·èƒ½ (Competency)</em></p>
                    </div>

                    <div class="content-block">
                        <h3>ğŸ“ å­¸ç¿’å–® #2ï¼šè·èƒ½é›·é”åœ–</h3>
                        <ul>
                            <li><strong>æ­¥é©Ÿ 1ï¼š</strong> åœ¨ LinkedIn æˆ– 104 ä¸Šæ‰¾åˆ°ä¸€ä»½çœŸå¯¦çš„è·ç¼ºæè¿° (JD)ã€‚</li>
                            <li><strong>æ­¥é©Ÿ 2ï¼š</strong> å°‡æ‰€éœ€æŠ€èƒ½å°æ‡‰åˆ° 6 é»é›·é”åœ– (å•†æ¥­æ€ç¶­ã€æŠ€è¡“ç†è§£ã€åŒç†å¿ƒã€æ•¸æ“šåˆ†æã€å°ˆæ¡ˆç®¡ç†ã€æºé€š)ã€‚</li>
                            <li><strong>æ­¥é©Ÿ 3ï¼š</strong> æ‰¾å‡ºæ‚¨çš„ã€Œç¼ºå£ (Gap)ã€ï¼Œä¸¦é¸æ“‡ä¸€å€‹èª²ç¨‹æ¨¡çµ„ä¾†è£œå¼·å®ƒã€‚</li>
                        </ul>
                    </div>

                    <div class="task-list">
                        <h4>âœ… ç¬¬äºŒé€±æª¢æ ¸è¡¨</h4>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w2-ws2-uploaded')"> 
                            <span>æˆ‘å·²ä¸Šå‚³å­¸ç¿’å–® #2 è‡³ Moodle/JotFormã€‚</span>
                        </label>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w2-group-joined')"> 
                            <span>æˆ‘å·²æ ¹æ“šç”¢æ¥­èˆˆè¶£åŠ å…¥å­¸ç¿’å°çµ„ (G1-G6)ã€‚</span>
                        </label>
                    </div>
                </div>`
            },
            'w3-4': {
                en: `
                <div class="section-header">
                    <div class="section-title">Module 1: Semiconductor & Macro Analysis</div>
                    <div class="section-subtitle">Weeks 3-4 | Geopolitics, Supply Chain, and Risk Management</div>
                </div>
                
                <div class="tabs">
                    <button class="tab-btn active" onclick="openTab(event, 'w3')">Week 3: Theory (Coggle)</button>
                    <button class="tab-btn" onclick="openTab(event, 'w4')">Week 4: Industry (PhBL)</button>
                </div>

                <div id="w3" class="tab-content active">
                    <div class="content-block">
                        <h3>ğŸ“š Week 3: Frameworks</h3>
                        <p>Understand the <strong>PESTEL</strong> framework and the Semiconductor <strong>Smile Curve</strong>.</p>
                        <h4>Required Reading</h4>
                        <ul>
                            <li><strong>Lecture Notes:</strong> PESTEL Analysis & Value Chain Choke Points.</li>
                            <li><strong>Article:</strong> <a href="#" onclick="return false;">"Geopolitical Risk Drives U.S. Crackdown on Advanced Chip Exports" (Dec 2025)</a></li>
                        </ul>
                    </div>

                    <div class="content-block">
                        <h3>ğŸ§  Group Task: Coggle Mindmap</h3>
                        <p>Collaborate with your group to map <strong>"Global Semiconductor Value Chain & Risks"</strong>.</p>
                        <ul>
                            <li>Branch 1: Upstream (EDA/IP) / Midstream (Mfg) / Downstream.</li>
                            <li>Branch 2: Identify "Choke Points" (Monopolies).</li>
                            <li>Branch 3: Apply PESTEL risk factors to each stage.</li>
                        </ul>
                    </div>
                    
                    <div class="task-list">
                        <h4>âœ… Week 3 Checklist</h4>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w3-reading')"> 
                            <span>I have completed the readings on PESTEL & Supply Chain.</span>
                        </label>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w3-coggle')"> 
                            <span>Group Coggle Mindmap created and link submitted.</span>
                        </label>
                    </div>
                </div>

                <div id="w4" class="tab-content">
                    <div class="content-block">
                        <h3>ğŸ­ Week 4: Project Global Footprint</h3>
                        <p><strong>Scenario:</strong> You are a Strategic PM at a top Foundry. Board dilemma: Expand in Taiwan or Germany?</p>
                        <h4>Required Videos</h4>
                        <ul>
                            <li>Video 1: "TSMC in Arizona: Culture Clash or New Standard?" (2025)</li>
                            <li>Video 2: "The Race for 2nm: Who Will Win?"</li>
                        </ul>
                    </div>

                    <div class="content-block">
                        <h3>ğŸ¤– AI Red Teaming</h3>
                        <p>Use AI to simulate opposition. Prompt example:</p>
                        <div class="prompt-box">
                            "Act as a German Metalworkers' Union Leader. Challenge my plan to bring Taiwanese work culture to the Dresden fab. Be critical about work-life balance."
                        </div>
                    </div>

                    <div class="task-list">
                        <h4>âœ… Week 4 Checklist (Deliverables)</h4>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w4-video')"> 
                            <span>I have watched the assigned case videos.</span>
                        </label>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w4-risk-matrix')"> 
                            <span><strong>Risk Assessment Matrix (PDF)</strong> completed.</span>
                        </label>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w4-summary')"> 
                            <span><strong>Executive Summary</strong> with final recommendation completed.</span>
                        </label>
                    </div>
                </div>`,
                zh: `
                <div class="section-header">
                    <div class="section-title">æ¨¡çµ„ä¸€ï¼šåŠå°é«”è£½é€ èˆ‡ç¸½é«”ç’°å¢ƒåˆ†æ</div>
                    <div class="section-subtitle">ç¬¬ 3-4 é€± | åœ°ç·£æ”¿æ²»ã€ä¾›æ‡‰éˆèˆ‡é¢¨éšªç®¡ç†</div>
                </div>
                
                <div class="tabs">
                    <button class="tab-btn active" onclick="openTab(event, 'w3')">ç¬¬ 3 é€±ï¼šç†è«–æ¶æ§‹ (Coggle)</button>
                    <button class="tab-btn" onclick="openTab(event, 'w4')">ç¬¬ 4 é€±ï¼šç”¢æ¥­å¯¦å‹™ (PhBL)</button>
                </div>

                <div id="w3" class="tab-content active">
                    <div class="content-block">
                        <h3>ğŸ“š ç¬¬ 3 é€±ï¼šåˆ†ææ¶æ§‹</h3>
                        <p>ç†è§£ <strong>PESTEL</strong> åˆ†ææ¶æ§‹èˆ‡åŠå°é«”ç”¢æ¥­çš„ <strong>å¾®ç¬‘æ›²ç·š</strong>ã€‚</p>
                        <h4>æŒ‡å®šé–±è®€</h4>
                        <ul>
                            <li><strong>è¬›ç¾©ï¼š</strong> PESTEL åˆ†æèˆ‡åƒ¹å€¼éˆå’½å–‰é» (Choke Points)ã€‚</li>
                            <li><strong>æ–‡ç« ï¼š</strong> <a href="#" onclick="return false;">"Geopolitical Risk Drives U.S. Crackdown on Advanced Chip Exports" (Dec 2025)</a></li>
                        </ul>
                    </div>

                    <div class="content-block">
                        <h3>ğŸ§  å°çµ„ä»»å‹™ï¼šCoggle å¿ƒæ™ºåœ–</h3>
                        <p>å”ä½œç¹ªè£½ <strong>ã€Œå…¨çƒåŠå°é«”åƒ¹å€¼éˆèˆ‡åœ°ç·£æ”¿æ²»é¢¨éšªã€</strong>ã€‚</p>
                        <ul>
                            <li>åˆ†æ”¯ 1ï¼šä¸Šæ¸¸ (EDA/IP) / ä¸­æ¸¸ (è£½é€ ) / ä¸‹æ¸¸ (å°æ¸¬)ã€‚</li>
                            <li>åˆ†æ”¯ 2ï¼šæ¨™ç¤ºã€Œå’½å–‰é»ã€(è¢«å–®ä¸€åœ‹å®¶å£Ÿæ–·çš„æŠ€è¡“)ã€‚</li>
                            <li>åˆ†æ”¯ 3ï¼šå°‡ PESTEL é¢¨éšªå› å­æ‡‰ç”¨æ–¼å„éšæ®µã€‚</li>
                        </ul>
                    </div>
                    
                    <div class="task-list">
                        <h4>âœ… ç¬¬ 3 é€±æª¢æ ¸è¡¨</h4>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w3-reading')"> 
                            <span>æˆ‘å·²å®Œæˆé—œæ–¼ PESTEL èˆ‡ä¾›æ‡‰éˆçš„é–±è®€ææ–™ã€‚</span>
                        </label>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w3-coggle')"> 
                            <span>å°çµ„ Coggle å¿ƒæ™ºåœ–å·²å»ºç«‹ä¸¦æäº¤é€£çµã€‚</span>
                        </label>
                    </div>
                </div>

                <div id="w4" class="tab-content">
                    <div class="content-block">
                        <h3>ğŸ­ ç¬¬ 4 é€±ï¼šå…¨çƒå¸ƒå±€è¨ˆç•« (Project Global Footprint)</h3>
                        <p><strong>æƒ…å¢ƒï¼š</strong> æ‚¨æ˜¯é ‚å°–æ™¶åœ“ä»£å·¥å» çš„ç­–ç•¥ PMã€‚è‘£äº‹æœƒé›£é¡Œï¼šåœ¨å°ç£æ“´å» é‚„æ˜¯å»å¾·åœ‹ï¼Ÿ</p>
                        <h4>æŒ‡å®šå½±ç‰‡</h4>
                        <ul>
                            <li>å½±ç‰‡ 1ï¼š"TSMC in Arizona: Culture Clash or New Standard?" (2025)</li>
                            <li>å½±ç‰‡ 2ï¼š"The Race for 2nm: Who Will Win?"</li>
                        </ul>
                    </div>

                    <div class="content-block">
                        <h3>ğŸ¤– AI ç´…éšŠæ¼”ç·´ (Red Teaming)</h3>
                        <p>ä½¿ç”¨ AI æ¨¡æ“¬åå°æ„è¦‹ã€‚Prompt ç¯„ä¾‹ï¼š</p>
                        <div class="prompt-box">
                            "Act as a German Metalworkers' Union Leader. Challenge my plan to bring Taiwanese work culture to the Dresden fab. Be critical about work-life balance."
                        </div>
                    </div>

                    <div class="task-list">
                        <h4>âœ… ç¬¬ 4 é€±æª¢æ ¸è¡¨ (ç”¢å‡ºç‰©)</h4>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w4-video')"> 
                            <span>æˆ‘å·²è§€çœ‹æŒ‡å®šçš„æ¡ˆä¾‹å½±ç‰‡ã€‚</span>
                        </label>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w4-risk-matrix')"> 
                            <span><strong>é¢¨éšªè©•ä¼°çŸ©é™£ (PDF)</strong> å·²å®Œæˆã€‚</span>
                        </label>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w4-summary')"> 
                            <span><strong>æ±ºç­–å»ºè­°æ›¸ (Executive Summary)</strong> å·²å®Œæˆã€‚</span>
                        </label>
                    </div>
                </div>`
            },
            'w5-6': {
                en: `
                <div class="section-header">
                    <div class="section-title">Module 2: Smart Home & User Needs</div>
                    <div class="section-subtitle">Weeks 5-6 | Silver Economy, Aging in Place, and Empathy</div>
                </div>
                
                <div class="tabs">
                    <button class="tab-btn active" onclick="openTab(event, 'w5')">Week 5: Theory (Coggle)</button>
                    <button class="tab-btn" onclick="openTab(event, 'w6')">Week 6: Industry (PhBL)</button>
                </div>

                <div id="w5" class="tab-content active">
                    <div class="content-block">
                        <h3>ğŸ“š Week 5: Design Thinking & Silver Economy</h3>
                        <p>We move from Macro (Economy) to Micro (User). Learn the 5 Steps of Design Thinking.</p>
                        <h4>Required Reading</h4>
                        <ul>
                            <li><strong>Lecture Notes:</strong> Design Thinking (Empathize, Define, Ideate, Prototype, Test).</li>
                            <li><strong>Report:</strong> <a href="#" onclick="return false;">"IMF: The Rise of the Silver Economy (April 2025)"</a> - The "Longevity Dividend".</li>
                        </ul>
                    </div>

                    <div class="content-block">
                        <h3>ğŸ§  Group Task: Coggle Mindmap</h3>
                        <p>Map <strong>"The Silver Ecosystem"</strong>.</p>
                        <ul>
                            <li><strong>PESTEL:</strong> What drives the silver economy?</li>
                            <li><strong>Opportunity Map:</strong> Health, Finance, Leisure, Living.</li>
                            <li><strong>Methodology:</strong> 3 Research methods for elderly users.</li>
                        </ul>
                    </div>

                    <div class="task-list">
                        <h4>âœ… Week 5 Checklist</h4>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w5-reading')"> 
                            <span>I have read the IMF report and lecture notes.</span>
                        </label>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w5-coggle')"> 
                            <span>Group Coggle Mindmap completed.</span>
                        </label>
                    </div>
                </div>

                <div id="w6" class="tab-content">
                    <div class="content-block">
                        <h3>ğŸ  Week 6: Project Dignity</h3>
                        <p><strong>Scenario:</strong> Mrs. Lin (78) lives alone. She needs safety but refuses "surveillance". How do we balance safety vs. dignity?</p>
                        <h4>Required Videos</h4>
                        <ul>
                            <li>Video: "Redefining Aging in Place with AI Sensors" (2025)</li>
                            <li>Video: "The Privacy Paradox: When Cameras Enter the Home"</li>
                        </ul>
                    </div>

                    <div class="content-block">
                        <h3>ğŸ¤– AI Persona Interview</h3>
                        <p>Simulate a chat with Mrs. Lin. Don't ask AI for the answer; ask AI to <em>be</em> the user.</p>
                        <div class="prompt-box">
                            "Act as Mrs. Lin, a 78-year-old retired teacher in Taiwan. You are proud and independent. I am a PM trying to sell you a safety device. You are skeptical and fear losing your privacy. Answer in Traditional Chinese."
                        </div>
                    </div>

                    <div class="task-list">
                        <h4>âœ… Week 6 Checklist (Deliverables)</h4>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w6-video')"> 
                            <span>I have watched the videos on Smart Home tech.</span>
                        </label>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w6-persona')"> 
                            <span><strong>User Persona & Empathy Map (PDF)</strong> completed.</span>
                        </label>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w6-statement')"> 
                            <span><strong>Problem Statement (HMW)</strong> defined.</span>
                        </label>
                    </div>
                </div>`,
                zh: `
                <div class="section-header">
                    <div class="section-title">æ¨¡çµ„äºŒï¼šæ™ºæ…§å®¶åº­èˆ‡ä½¿ç”¨è€…éœ€æ±‚</div>
                    <div class="section-subtitle">ç¬¬ 5-6 é€± | éŠ€é«®ç¶“æ¿Ÿã€åœ¨åœ°å®‰è€èˆ‡åŒç†å¿ƒ</div>
                </div>
                
                <div class="tabs">
                    <button class="tab-btn active" onclick="openTab(event, 'w5')">ç¬¬ 5 é€±ï¼šç†è«–æ¶æ§‹ (Coggle)</button>
                    <button class="tab-btn" onclick="openTab(event, 'w6')">ç¬¬ 6 é€±ï¼šç”¢æ¥­å¯¦å‹™ (PhBL)</button>
                </div>

                <div id="w5" class="tab-content active">
                    <div class="content-block">
                        <h3>ğŸ“š ç¬¬ 5 é€±ï¼šè¨­è¨ˆæ€è€ƒèˆ‡éŠ€é«®ç¶“æ¿Ÿ</h3>
                        <p>æˆ‘å€‘å¾ç¸½é«” (ç¶“æ¿Ÿ) è½‰å‘å€‹é«” (ä½¿ç”¨è€…)ã€‚å­¸ç¿’è¨­è¨ˆæ€è€ƒçš„äº”å€‹æ­¥é©Ÿã€‚</p>
                        <h4>æŒ‡å®šé–±è®€</h4>
                        <ul>
                            <li><strong>è¬›ç¾©ï¼š</strong> è¨­è¨ˆæ€è€ƒ (åŒç†ã€å®šç¾©ã€ç™¼æƒ³ã€åŸå‹ã€æ¸¬è©¦)ã€‚</li>
                            <li><strong>å ±å‘Šï¼š</strong> <a href="#" onclick="return false;">"IMF: The Rise of the Silver Economy (April 2025)"</a> - é—œæ–¼ã€Œé•·å£½ç´…åˆ©ã€ã€‚</li>
                        </ul>
                    </div>

                    <div class="content-block">
                        <h3>ğŸ§  å°çµ„ä»»å‹™ï¼šCoggle å¿ƒæ™ºåœ–</h3>
                        <p>ç¹ªè£½ <strong>ã€ŒéŠ€é«®ç”Ÿæ…‹ç³»ã€</strong>ã€‚</p>
                        <ul>
                            <li><strong>PESTELï¼š</strong> é©…å‹•éŠ€é«®ç¶“æ¿Ÿçš„å› ç´ æ˜¯ä»€éº¼ï¼Ÿ</li>
                            <li><strong>æ©Ÿæœƒåœ°åœ–ï¼š</strong> å¥åº·ã€é‡‘èã€ä¼‘é–’ã€å±…ä½ã€‚</li>
                            <li><strong>ç ”ç©¶æ–¹æ³•ï¼š</strong> åˆ—å‡º 3 ç¨®é©åˆé«˜é½¡ä½¿ç”¨è€…çš„ç ”ç©¶æ–¹æ³•ã€‚</li>
                        </ul>
                    </div>

                    <div class="task-list">
                        <h4>âœ… ç¬¬ 5 é€±æª¢æ ¸è¡¨</h4>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w5-reading')"> 
                            <span>æˆ‘å·²é–±è®€ IMF å ±å‘Šèˆ‡è¬›ç¾©ã€‚</span>
                        </label>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w5-coggle')"> 
                            <span>å°çµ„ Coggle å¿ƒæ™ºåœ–å·²å®Œæˆã€‚</span>
                        </label>
                    </div>
                </div>

                <div id="w6" class="tab-content">
                    <div class="content-block">
                        <h3>ğŸ  ç¬¬ 6 é€±ï¼šå°Šåš´å®ˆè­·è¨ˆç•« (Project Dignity)</h3>
                        <p><strong>æƒ…å¢ƒï¼š</strong> æ—å¥³å£« (78æ­²) ç¨å±…ã€‚å¥¹éœ€è¦å®‰å…¨ä¿éšœï¼Œä½†æ‹’çµ•ã€Œè¢«ç›£æ§ã€ã€‚æˆ‘å€‘å¦‚ä½•åœ¨å®‰å…¨èˆ‡å°Šåš´ä¹‹é–“å–å¾—å¹³è¡¡ï¼Ÿ</p>
                        <h4>æŒ‡å®šå½±ç‰‡</h4>
                        <ul>
                            <li>å½±ç‰‡ï¼š"Redefining Aging in Place with AI Sensors" (2025)</li>
                            <li>å½±ç‰‡ï¼š"The Privacy Paradox: When Cameras Enter the Home"</li>
                        </ul>
                    </div>

                    <div class="content-block">
                        <h3>ğŸ¤– AI äººç‰©èªŒè¨ªè«‡</h3>
                        <p>æ¨¡æ“¬èˆ‡æ—å¥³å£«çš„å°è©±ã€‚ä¸è¦å• AI ç­”æ¡ˆï¼›è«‹ AI <strong>æ‰®æ¼”</strong> ä½¿ç”¨è€…ã€‚</p>
                        <div class="prompt-box">
                            "Act as Mrs. Lin, a 78-year-old retired teacher in Taiwan. You are proud and independent. I am a PM trying to sell you a safety device. You are skeptical and fear losing your privacy. Answer in Traditional Chinese."
                        </div>
                    </div>

                    <div class="task-list">
                        <h4>âœ… ç¬¬ 6 é€±æª¢æ ¸è¡¨ (ç”¢å‡ºç‰©)</h4>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w6-video')"> 
                            <span>æˆ‘å·²è§€çœ‹æ™ºæ…§å®¶åº­ç§‘æŠ€ç›¸é—œå½±ç‰‡ã€‚</span>
                        </label>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w6-persona')"> 
                            <span><strong>äººç‰©èªŒèˆ‡åŒç†å¿ƒåœ°åœ– (PDF)</strong> å·²å®Œæˆã€‚</span>
                        </label>
                        <label class="progress-check">
                            <input type="checkbox" onchange="saveProgress('w6-statement')"> 
                            <span><strong>å•é¡Œå®šç¾© (HMW)</strong> å·²å®Œæˆã€‚</span>
                        </label>
                    </div>
                </div>`
            },
            'dashboard': {
                en: `
                <div class="section-header">
                    <div class="section-title">Learning Log & Export</div>
                    <div class="section-subtitle">Track your progress and submit your weekly evidence.</div>
                </div>
                
                <div class="dashboard-grid">
                    <!-- Progress Card -->
                    <div class="dash-card">
                        <h3>ğŸ“ˆ Progress Overview</h3>
                        <p style="margin-top:10px; color:var(--text-muted)">Current local progress (Saved in browser):</p>
                        <div style="margin-top: 30px; text-align: center;">
                            <div id="progress-stats">
                                <span style="font-size:1.2rem; color:var(--text-muted)">Calculating...</span>
                            </div>
                        </div>
                        <div style="margin-top: 30px; border-top: 1px solid var(--border-color); padding-top: 15px;">
                            <p style="font-size: 0.8rem; color: var(--text-muted);">
                                *Note: This data is stored in your browser (LocalStorage). It will be lost if you clear cache or switch devices. Please export regularly.
                            </p>
                        </div>
                    </div>

                    <!-- Export Form -->
                    <div class="dash-card">
                        <h3>ğŸ“¤ Export Log to CSV</h3>
                        <p style="margin-bottom: 20px;">Generate your learning proof for Moodle submission.</p>
                        
                        <form id="export-form" onsubmit="exportCSV(event)">
                            <div class="form-group">
                                <label>Study Group</label>
                                <select id="input-group" class="form-control" required>
                                    <option value="" disabled selected>Select Group...</option>
                                    <option value="G1">G1</option>
                                    <option value="G2">G2</option>
                                    <option value="G3">G3</option>
                                    <option value="G4">G4</option>
                                    <option value="G5">G5</option>
                                    <option value="G6">G6</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>Grade / Class</label>
                                <input type="text" id="input-grade" class="form-control" placeholder="e.g., IBS3" required>
                            </div>

                            <div class="form-group">
                                <label>Student Name</label>
                                <input type="text" id="input-name" class="form-control" placeholder="e.g., Jeremy Wang" required>
                            </div>

                            <div class="form-group">
                                <label>Submission Week</label>
                                <select id="input-week" class="form-control" required>
                                    <option value="" disabled selected>Select Week...</option>
                                    <option value="W1">W1</option>
                                    <option value="W2">W2</option>
                                    <option value="W3">W3</option>
                                    <option value="W4">W4</option>
                                    <option value="W5">W5</option>
                                    <option value="W6">W6</option>
                                    <option value="W7">W7</option>
                                    <option value="W8">W8</option>
                                    <option value="W9">W9</option>
                                    <option value="W10">W10</option>
                                    <option value="W11">W11</option>
                                    <option value="W12">W12</option>
                                    <option value="W13">W13</option>
                                    <option value="W14">W14</option>
                                    <option value="W15">W15</option>
                                    <option value="W16">W16</option>
                                </select>
                            </div>

                            <button type="submit" class="btn-primary">Download CSV</button>
                        </form>
                    </div>
                </div>`,
                zh: `
                <div class="section-header">
                    <div class="section-title">å­¸ç¿’æ­·ç¨‹èˆ‡åŒ¯å‡º</div>
                    <div class="section-subtitle">è¿½è¹¤æ‚¨çš„å­¸ç¿’é€²åº¦ä¸¦æäº¤æ¯é€±æ†‘è­‰ã€‚</div>
                </div>
                
                <div class="dashboard-grid">
                    <!-- Progress Card -->
                    <div class="dash-card">
                        <h3>ğŸ“ˆ é€²åº¦ç¸½è¦½</h3>
                        <p style="margin-top:10px; color:var(--text-muted)">ç›®å‰æœ¬æ©Ÿé€²åº¦ (å„²å­˜æ–¼ç€è¦½å™¨)ï¼š</p>
                        <div style="margin-top: 30px; text-align: center;">
                            <div id="progress-stats">
                                <span style="font-size:1.2rem; color:var(--text-muted)">è¨ˆç®—ä¸­...</span>
                            </div>
                        </div>
                        <div style="margin-top: 30px; border-top: 1px solid var(--border-color); padding-top: 15px;">
                            <p style="font-size: 0.8rem; color: var(--text-muted);">
                                *æ³¨æ„ï¼šæ­¤è³‡æ–™å„²å­˜æ–¼æ‚¨çš„ç€è¦½å™¨ (LocalStorage)ã€‚è‹¥æ¸…é™¤å¿«å–æˆ–æ›´æ›è£ç½®ï¼Œè³‡æ–™å°‡æœƒéºå¤±ã€‚è«‹å®šæœŸåŒ¯å‡ºã€‚
                            </p>
                        </div>
                    </div>

                    <!-- Export Form -->
                    <div class="dash-card">
                        <h3>ğŸ“¤ åŒ¯å‡ºå­¸ç¿’ç´€éŒ„ (CSV)</h3>
                        <p style="margin-bottom: 20px;">ç”¢ç”Ÿå­¸ç¿’æ†‘è­‰ä»¥æäº¤è‡³ Moodleã€‚</p>
                        
                        <form id="export-form" onsubmit="exportCSV(event)">
                            <div class="form-group">
                                <label>å­¸ç¿’å°çµ„</label>
                                <select id="input-group" class="form-control" required>
                                    <option value="" disabled selected>é¸æ“‡çµ„åˆ¥...</option>
                                    <option value="G1">G1</option>
                                    <option value="G2">G2</option>
                                    <option value="G3">G3</option>
                                    <option value="G4">G4</option>
                                    <option value="G5">G5</option>
                                    <option value="G6">G6</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>ç³»ç´š</label>
                                <input type="text" id="input-grade" class="form-control" placeholder="ä¾‹å¦‚ï¼šIBS3" required>
                            </div>

                            <div class="form-group">
                                <label>å§“å</label>
                                <input type="text" id="input-name" class="form-control" placeholder="ä¾‹å¦‚ï¼šç‹å°æ˜" required>
                            </div>

                            <div class="form-group">
                                <label>æäº¤é€±æ¬¡</label>
                                <select id="input-week" class="form-control" required>
                                    <option value="" disabled selected>é¸æ“‡é€±æ¬¡...</option>
                                    <option value="W1">ç¬¬ 1 é€±</option>
                                    <option value="W2">ç¬¬ 2 é€±</option>
                                    <option value="W3">ç¬¬ 3 é€±</option>
                                    <option value="W4">ç¬¬ 4 é€±</option>
                                    <option value="W5">ç¬¬ 5 é€±</option>
                                    <option value="W6">ç¬¬ 6 é€±</option>
                                    <option value="W7">ç¬¬ 7 é€±</option>
                                    <option value="W8">ç¬¬ 8 é€±</option>
                                    <option value="W9">ç¬¬ 9 é€±</option>
                                    <option value="W10">ç¬¬ 10 é€±</option>
                                    <option value="W11">ç¬¬ 11 é€±</option>
                                    <option value="W12">ç¬¬ 12 é€±</option>
                                    <option value="W13">ç¬¬ 13 é€±</option>
                                    <option value="W14">ç¬¬ 14 é€±</option>
                                    <option value="W15">ç¬¬ 15 é€±</option>
                                    <option value="W16">ç¬¬ 16 é€±</option>
                                </select>
                            </div>

                            <button type="submit" class="btn-primary">ä¸‹è¼‰ CSV æª”æ¡ˆ</button>
                        </form>
                    </div>
                </div>`
            }
        };

        // --- Core Functions ---

        // State Management
        let currentLang = 'en'; // 'en' or 'zh'
        let currentModule = null; // Track currently loaded module to refresh on language switch

        // 1. Initialization
        document.addEventListener('DOMContentLoaded', () => {
            const today = new Date();
            document.getElementById('date-display').innerText = today.toISOString().split('T')[0];
            loadTheme();
            // Default to English is fine, no action needed unless we want to persist lang
        });

        // 2. Navigation
        function toggleMenu() {
            document.getElementById('mobile-menu').classList.toggle('active');
            document.getElementById('menu-overlay').classList.toggle('active');
        }

        function closeMenu() {
            document.getElementById('mobile-menu').classList.remove('active');
            document.getElementById('menu-overlay').classList.remove('active');
        }

        function loadContent(moduleId) {
            currentModule = moduleId; // Save for language switching
            const main = document.getElementById('main-content');
            
            if(courseData[moduleId]) {
                // Load content based on current language
                main.innerHTML = courseData[moduleId][currentLang];
                
                // If loading dashboard, update stats immediately
                if(moduleId === 'dashboard') updateDashboardStats();
                
                // Important: Restore checkboxes for the loaded module
                restoreProgress();
            } else {
                main.innerHTML = `<div style="padding-top:50px; text-align:center;"><h2>Content not found</h2></div>`;
            }
            
            // UX
            window.scrollTo({top: 0, behavior: 'smooth'});
            closeMenu();
        }

        // 3. Language Toggle Logic
        function toggleLanguage() {
            // Switch state
            currentLang = currentLang === 'en' ? 'zh' : 'en';
            
            // Update Lang Button Text
            const langBtn = document.querySelector('.lang-btn');
            langBtn.innerText = currentLang === 'en' ? 'ENG' : 'ç¹ä¸­';

            // Update Body Class for Fonts
            if (currentLang === 'zh') {
                document.body.classList.add('lang-zh');
                document.documentElement.lang = 'zh-TW';
            } else {
                document.body.classList.remove('lang-zh');
                document.documentElement.lang = 'en';
            }

            // Update Static UI Elements (Menu, Footer, Header)
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (uiTranslations[currentLang][key]) {
                    el.innerText = uiTranslations[currentLang][key];
                }
            });

            // Reload Current Content (if a module is open)
            if (currentModule) {
                loadContent(currentModule);
            } else {
                // If on homepage (start screen), reload start screen text manually is handled by data-i18n, 
                // but if we are on the initial landing view without clicking anything yet:
                // Actually the initial view is static HTML. 
                // Let's ensure the "Start Learning" button inside Main works.
                // It has data-i18n, so it updated above.
            }
        }

        // 4. Tabs
        function openTab(evt, tabName) {
            const contents = document.getElementsByClassName("tab-content");
            for (let i = 0; i < contents.length; i++) {
                contents[i].style.display = "none";
                contents[i].classList.remove("active");
            }
            const buttons = document.getElementsByClassName("tab-btn");
            for (let i = 0; i < buttons.length; i++) {
                buttons[i].classList.remove("active");
            }
            document.getElementById(tabName).style.display = "block";
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
        }

        // 5. Progress Tracking (LocalStorage)
        function saveProgress(id) {
            let progress = JSON.parse(localStorage.getItem('itbm_progress')) || {};
            
            // Find the checkbox state
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            checkboxes.forEach(cb => {
                const onchangeAttr = cb.getAttribute('onchange');
                if(onchangeAttr && onchangeAttr.includes(id)) {
                    progress[id] = cb.checked;
                    progress[id + '_timestamp'] = new Date().toISOString();
                }
            });
            
            progress['last_updated'] = new Date().toISOString();
            localStorage.setItem('itbm_progress', JSON.stringify(progress));
            
            // If dashboard is open, update stats live
            if(document.getElementById('progress-stats')) {
                updateDashboardStats();
            }
        }

        function restoreProgress() {
            let progress = JSON.parse(localStorage.getItem('itbm_progress')) || {};
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            
            checkboxes.forEach(cb => {
                const attr = cb.getAttribute('onchange');
                if(attr) {
                    const match = attr.match(/'([^']+)'/);
                    if(match && match[1]) {
                        const id = match[1];
                        if(progress[id] === true) {
                            cb.checked = true;
                        }
                    }
                }
            });
        }

        function updateDashboardStats() {
            let progress = JSON.parse(localStorage.getItem('itbm_progress')) || {};
            
            const taskKeys = Object.keys(progress).filter(k => !k.includes('timestamp') && k !== 'last_updated');
            const completedCount = taskKeys.filter(k => progress[k] === true).length;
            
            const statsDiv = document.getElementById('progress-stats');
            if(statsDiv) {
                const label = currentLang === 'en' ? 'Tasks Completed' : 'å·²å®Œæˆä»»å‹™';
                const timeLabel = currentLang === 'en' ? 'Last Activity' : 'æœ€å¾Œæ´»å‹•æ™‚é–“';
                const noActivity = currentLang === 'en' ? 'No activity yet' : 'å°šç„¡æ´»å‹•';
                
                statsDiv.innerHTML = `
                    <div class="stat-number">${completedCount}</div>
                    <div class="stat-label">${label}</div>
                    <div style="margin-top: 15px; font-size: 0.8rem; color: #666;">
                        ${timeLabel}: ${progress['last_updated'] ? new Date(progress['last_updated']).toLocaleString() : noActivity}
                    </div>
                `;
            }
        }

        // 6. CSV Export
        function exportCSV(e) {
            e.preventDefault();
            
            const group = document.getElementById('input-group').value;
            const grade = document.getElementById('input-grade').value;
            const name = document.getElementById('input-name').value;
            const week = document.getElementById('input-week').value;

            let progress = JSON.parse(localStorage.getItem('itbm_progress')) || {};
            let now = new Date().toISOString();

            let csvContent = "\uFEFF"; 
            csvContent += "Student Information\n";
            csvContent += `Group,${group}\n`;
            csvContent += `Grade,${grade}\n`;
            csvContent += `Name,${name}\n`;
            csvContent += `Submission Week,${week}\n`;
            csvContent += `Export Time,${now}\n\n`;
            
            csvContent += "Learning Log Details\n";
            csvContent += "Task ID,Status,Completion Time\n"; 
            
            Object.keys(progress).forEach(key => {
                if(!key.includes('timestamp') && key !== 'last_updated') {
                    let status = progress[key] ? 'Completed' : 'Pending';
                    let time = progress[key + '_timestamp'] || 'N/A';
                    csvContent += `${key},${status},${time}\n`;
                }
            });

            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement("a");
            const url = URL.createObjectURL(blob);
            link.setAttribute("href", url);
            
            const safeName = name.replace(/[^a-zA-Z0-9]/g, "");
            const filename = `ITBM_${group}_${grade}_${safeName}_${week}.csv`;
            
            link.setAttribute("download", filename);
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // 7. Theme Logic
        function toggleTheme() {
            document.body.classList.toggle('light-mode');
            const isLight = document.body.classList.contains('light-mode');
            localStorage.setItem('itbm_theme', isLight ? 'light' : 'dark');
        }

        function loadTheme() {
            const savedTheme = localStorage.getItem('itbm_theme');
            if(savedTheme === 'light') {
                document.body.classList.add('light-mode');
            }
        }
    </script>
</body>
</html>